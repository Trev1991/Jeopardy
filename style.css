:root {
    /* Palette */
    --bg: #071a3b;
    --blue-900: #0a3161;
    --blue-700: #1c4e89;
    --blue-500: #103b6e;
    --gold: #f5c542;

    /* Type scale */
    --h1: clamp(28px, 3.2vw, 40px);
    --cell: clamp(16px, 1.8vw, 22px);

    /* Radii & shadows */
    --radius: 12px;
    --elev: 0 6px 18px rgba(0, 0, 0, .25);
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-family: 'Inter', system-ui, Arial, sans-serif;
    color: #fff;
    background:
        radial-gradient(1200px 600px at 50% -10%, #123b7a33, transparent 60%),
        linear-gradient(#081b3f, var(--bg));
    min-height: 100dvh;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 14px 18px;
    border-bottom: 1px solid #0d2550;
    background: linear-gradient(180deg, #0b2150, #071a3b);
}

h1 {
    margin: 0;
    font-family: 'Bebas Neue', system-ui, Arial, sans-serif;
    font-size: var(--h1);
    letter-spacing: .5px;
    color: var(--gold);
    text-shadow: 0 2px 0 #0009;
}

#restartBtn {
    appearance: none;
    border: 0;
    border-radius: 999px;
    padding: 10px 14px;
    font-weight: 600;
    cursor: pointer;
    background: #0b6e4f;
    color: #fff;
    box-shadow: var(--elev);
}

#restartBtn:disabled {
    opacity: .6;
    cursor: not-allowed;
}

#restartBtn:focus-visible {
    outline: 2px solid var(--gold);
    outline-offset: 2px;
}

main {
    max-width: 1100px;
    margin: 0 auto;
}

#board {
    display: grid;
    gap: 8px;
    padding: 16px;
    grid-template-columns: repeat(6, minmax(0, 1fr));
}

.col-header {
    background: linear-gradient(180deg, #13294b, #0e2140);
    border-radius: var(--radius);
    box-shadow: var(--elev);
    padding: 10px;
    text-align: center;
    font-family: 'Bebas Neue', system-ui, Arial, sans-serif;
    letter-spacing: .4px;
}

/* === Card flip === */
.cell {
    perspective: 800px;
    height: 96px;
}

/* 3D stage */

.card {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform .6s cubic-bezier(.2, .7, .2, 1);
    border-radius: var(--radius);
    box-shadow: var(--elev);
    outline: none;
}

.card.flipped {
    transform: rotateY(180deg);
}

.face {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    backface-visibility: hidden;
    border-radius: var(--radius);
    text-align: center;
    padding: 10px;
}

.front,
.back {
    overflow: hidden;
}

.front {
    background: linear-gradient(180deg, #0d2a66, var(--blue-900));
    border: 1px solid #ffffff1e;
    font-weight: 700;
    font-size: var(--cell);
    color: #e5f1ff;
}

.back {
    background: linear-gradient(180deg, var(--blue-700), var(--blue-500));
    transform: rotateY(180deg);
    font-size: clamp(14px, 1.4vw, 18px);
    line-height: 1.3;
    padding: 12px;

    /* Tame long text */
    overflow-wrap: anywhere;
    /* allow breaks in long tokens */
    hyphens: auto;
    /* auto hyphenation where supported */
    display: -webkit-box;
    -webkit-line-clamp: 4;
    /* clamp to 4 lines */
    -webkit-box-orient: vertical;
    line-clamp: 4;
}

/* State tints */
.cell.question .back {
    box-shadow: 0 0 0 2px #ffffff24 inset;
}

.cell.answer .back {
    background: linear-gradient(180deg, #0b6e4f, #08583f);
}

/* Focus + hover */
.cell:focus-within .card,
.card:focus-visible {
    outline: 2px solid var(--gold);
    outline-offset: 2px;
}

.cell:hover .front {
    filter: brightness(1.05);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .card {
        transition: none !important;
    }

    .card.flipped {
        transform: none;
    }
}

/* === Modal === */
dialog {
    border: 0;
    border-radius: 12px;
    padding: 0;
    background: #0e2140;
    color: #fff;
    box-shadow: 0 10px 40px rgba(0, 0, 0, .5);
    max-width: min(720px, 92vw);
}

dialog::backdrop {
    background: rgba(0, 0, 0, .6);
}

#clueText {
    padding: 18px 20px;
    white-space: pre-wrap;
    overflow-wrap: anywhere;
    hyphens: auto;
}

.modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
    padding: 12px 16px;
    border-top: 1px solid #ffffff1e;
}